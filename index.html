<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>conizm_ | Crafting the Invisible</title>
    
    <!-- OGP and Favicon Settings -->
    <link rel="icon" href="https://conizm.cc/images/icon-conizm.png" type="image/png">
    <link rel="apple-touch-icon" href="https://conizm.cc/images/icon-conizm.png">
    <meta property="og:title" content="conizm_ | Crafting the Invisible">
    <meta property="og:description" content="かたちあるものの奥に、 本当につくりたい「気配」が潜んでいる。">
    <meta property="og:image" content="https://conizm.cc/images/ogp-conizm.png">
    <meta property="og:type" content="website">
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500&family=Lato:wght@300;400;700&family=Noto+Sans+JP:wght@300;400;500&family=Space+Mono&display=swap" rel="stylesheet">
    
    <style>
        /* Global Font Settings */
        .font-jp {
          font-family: "Noto Sans JP", sans-serif;
        }
        .font-serif {
            font-family: "EB Garamond", serif;
        }
        .font-mono {
            font-family: "Space Mono", monospace;
        }
        ::selection {
          background-color: #2D2D2D;
          color: #F7F7F7;
        }
        html {
          scroll-behavior: smooth;
        }
        /* Custom Easing for organic feel */
        .ease-custom {
          transition-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
        }
        /* SVG Blink Animation for the underbar */
        @keyframes fadeBlink {
          0%, 100% { opacity: 1; }
          50% { opacity: 0; }
        }
        #hero-underbar {
          animation: fadeBlink 2.5s ease-in-out infinite;
          animation-delay: 4s;
        }
        /* Custom height for mobile menu overlay (approx 2/3 of viewport height) */
        .h-66vh {
            height: 66vh;
        }
        
        /* Define Nav height for reference */
        nav {
            padding-top: 0;
            padding-bottom: 0;
            height: 5rem; /* Mobile Nav Height */
        }
        @media (min-width: 768px) {
            nav {
                padding-top: 0;
                padding-bottom: 0;
                height: 7rem; /* Desktop Nav Height */
            }
        }
        
        /* Apply padding to the main section to avoid header overlap */
        #hero-section {
            padding-top: 5rem; /* Compensate for mobile nav height (5rem) */
        }
        @media (min-width: 768px) {
            #hero-section {
                padding-top: 7rem; /* Compensate for desktop nav height (7rem) */
            }
        }

        /* Crossfade transition property applied to dynamic slides */
        .fade-transition {
            transition: opacity 2500ms ease-in-out;
        }
    </style>
</head>
<body class="min-h-screen bg-[#F7F7F7] text-[#2D2D2D] overflow-x-hidden relative">

    <!-- Mobile Menu Overlay (Hidden by default) -->
    <div 
        id="mobile-menu-overlay"
        class="fixed top-0 right-0 w-1/2 h-[55vh] bg-[#F7F7F7]/80 backdrop-blur-md z-40 flex flex-col justify-center items-center gap-2 pt-[90px] transition-all duration-500 md:hidden shadow-xl rounded-l-md opacity-0 translate-x-full pointer-events-none"
    >
        <a href="#philosophy" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#philosophy')">CONCEPT</a>
        <a href="#services" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#services')">DOMAINS</a>
        <a href="#works" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#works')">WORK</a>
        <a href="#contact" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#contact')">CONTACT</a>
        
        <div class="flex gap-4 mt-4 font-mono text-xs opacity-60">
            <button onclick="setLanguage('ja')" id="lang-ja-mobile" class="font-bold border-b border-[#2D2D2D]">JP</button>
            <button onclick="setLanguage('en')" id="lang-en-mobile">EN</button>
        </div>
    </div>

    <!-- Navigation (Fixed Header) -->
    <nav class="fixed top-0 w-full p-8 md:p-12 flex justify-between items-center z-50 mix-blend-multiply bg-gradient-to-b from-[#F7F7F7]/95 to-transparent backdrop-blur-xl">
        <a 
          href="#" 
          class="hover:opacity-50 transition-opacity z-50 md:w-auto w-full flex items-center justify-between"
          aria-label="Home"
          onclick="handleMenuClick(event, '#')"
        >
            <!-- Mobile Tap Area Overlay (Hidden on desktop) -->
            <div class="absolute inset-0 md:hidden" onclick="handleMenuClick(event, '#')"></div>

            <svg 
                viewBox="0 0 1200 147.89"
                class="h-3 md:h-4 w-auto fill-[#2D2D2D] relative z-20"
            >
                <!-- Logo Paths (Simplified for HTML display) -->
                <path d="M111.47,9.82v30.08c-14.25-9.5-25.97-13.3-39.58-13.3-28.18,0-43.07,23.44-43.07,47.18,0,20.27,10.45,47.5,48.45,47.5,14.88,0,26.28-4.44,37.37-9.5v27.87c-13.62,5.38-27.55,8.23-41.48,8.23C18.37,147.89,0,106.72,0,76,0,28.82,29.45,0,69.98,0c13.62,0,25.33,2.53,41.48,9.82Z"/>
                <g>
                    <path d="M314.11,74.09c0,46.99-38.39,66.76-69.05,66.76-45.56,0-68.48-35.24-68.48-65.9,0-38.39,26.93-67.91,69.34-67.91,38.68,0,68.19,26.93,68.19,67.05ZM202.65,74.09c0,27.51,18.62,43.83,42.98,43.83s42.4-18.62,42.4-44.12c0-30.37-21.49-43.83-43.84-43.83-23.49,0-41.54,16.9-41.54,44.12Z"/>
                    <path d="M487.9,64.55v76.29h-27.37v-75.68c0-28.6-13.53-35.36-28.29-35.36-12.61,0-24.91,7.38-33.21,19.37v91.67h-27.37V9.81h27.37v17.53c12.3-14.15,29.52-20.3,42.13-20.3,29.52,0,46.74,20.91,46.74,57.51Z"/>
                    <g><path d="M586.53,15.99c0,8.61-7.38,16.3-16.3,16.3s-15.99-8.3-15.99-16.3,6.77-15.99,15.99-15.99,16.3,7.38,16.3,15.99Z"/><rect x="556.7" y="55.1" width="27.37" height="85.75"/></g>
                    <path d="M766.82,7.04v.89l-68.95,108.47h69.53v24.44h-114.52v-.89l68.36-108.17h-66.03V7.04h111.61Z"/>
                    <path d="M928.37,30.71c16.95-16.94,27.76-23.66,43.24-23.66,28.63,0,43.82,19.28,43.82,51.42v82.38h-25.71V60.5c0-20.16-9.93-31.26-27.17-31.26-9.35,0-20.74,5.84-29.51,16.36v95.24h-25.71V62.26c0-23.08-8.18-33.3-25.71-33.3-12.57,0-22.2,6.43-30.97,16.65v95.24h-25.71V9.67h25.71v17.24c13.73-14.02,24.83-19.87,39.15-19.87,15.77,0,30.38,7.01,38.56,23.66Z"/>
                </g>
                <path d="M1200,122.15v18.7h-122.62v-18.7h122.62Z"/>
            </svg>
        </a>

        <!-- Desktop Menu -->
        <div class="hidden md:flex gap-8 font-mono text-[10px] tracking-widest">
            <a href="#philosophy" class="hover:line-through decoration-[#2D2D2D] transition-all" data-content-key="nav_concept">01 / CONCEPT</a>
            <a href="#services" class="hover:line-through decoration-[#2D2D2D] transition-all" data-content-key="nav_services">02 / DOMAINS</a>
            <a href="#works" class="hover:line-through decoration-[#2D2D2D] transition-all" data-content-key="nav_work">03 / WORK</a>
            <a href="#contact" class="hover:line-through decoration-[#2D2D2D] transition-all" data-content-key="nav_contact">04 / CONTACT</a>
        </div>
        
        <!-- Desktop Language Switch -->
        <div class="hidden md:flex gap-4 font-mono text-[10px] tracking-widest">
            <button onclick="setLanguage('ja')" id="lang-ja-desktop" class="font-bold border-b border-[#2D2D2D]">JP</button>
            <button onclick="setLanguage('en')" id="lang-en-desktop" data-content-key="lang_en">EN</button>
        </div>

        <!-- Mobile Menu Button -->
        <button 
          id="mobile-menu-button"
          class="md:hidden z-50 text-[#2D2D2D] relative"
          aria-label="Toggle menu"
        >
          <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
          <svg id="close-icon" class="hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
    </nav>

    <!-- Mobile Menu Overlay (Hidden by default) -->
    <div 
        id="mobile-menu-overlay"
        class="fixed top-0 right-0 w-1/2 h-[55vh] bg-[#F7F7F7]/80 backdrop-blur-md z-40 flex flex-col justify-center items-center gap-2 pt-[90px] transition-all duration-500 md:hidden shadow-xl rounded-l-md opacity-0 translate-x-full pointer-events-none"
    >
        <a href="#philosophy" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#philosophy')">CONCEPT</a>
        <a href="#services" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#services')">DOMAINS</a>
        <a href="#works" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#works')">WORK</a>
        <a href="#contact" class="font-mono text-sm tracking-widest hover:opacity-50 transition-opacity block w-full text-center py-2 text-[#2D2D2D]" onclick="handleMenuClick(event, '#contact')">CONTACT</a>
        
        <div class="flex gap-4 mt-4 font-mono text-xs opacity-60">
            <button onclick="setLanguage('ja')" id="lang-ja-mobile" class="font-bold border-b border-[#2D2D2D]">JP</button>
            <button onclick="setLanguage('en')" id="lang-en-mobile">EN</button>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="hero-section" class="h-screen w-full flex flex-col justify-center items-center relative px-6">
        <!-- Offset adjustment: mt-[-8rem] (mobile) and md:mt-[-5.5rem] (PC) -->
        <div id="hero-content" class="w-full max-w-[360px] opacity-0 translate-y-10 transition-all duration-[2000ms] ease-out mt-[-8rem] md:mt-[-5.5rem]">
            
            <div class="w-[60%] md:w-full mx-auto">
                <svg 
                  id="main-logo-svg" 
                  xmlns="http://www.w3.org/2000/svg" 
                  viewBox="0 0 1200 147.89"
                  class="w-full h-auto fill-[#2D2D2D] overflow-visible"
                  aria-label="conizm_"
                >
                    <!-- Logo Paths (Simplified for HTML display) -->
                    <g id="c-group" class="transition-transform duration-[1500ms] ease-custom" style="transform: translateX(470px);">
                        <path d="M111.47,9.82v30.08c-14.25-9.5-25.97-13.3-39.58-13.3-28.18,0-43.07,23.44-43.07,47.18,0,20.27,10.45,47.5,48.45,47.5,14.88,0,26.28-4.44,37.37-9.5v27.87c-13.62,5.38-27.55,8.23-41.48,8.23C18.37,147.89,0,106.72,0,76,0,28.82,29.45,0,69.98,0c13.62,0,25.33,2.53,41.48,9.82Z"/>
                    </g>

                    <!-- Letters (onizm): Start offset left and transparent -->
                    <g id="onizm-group">
                        <g id="o" class="transition-all duration-[1000ms] ease-custom opacity-0 -translate-x-[20px]" style="transition-delay: 500ms;">
                            <path d="M314.11,74.09c0,46.99-38.39,66.76-69.05,66.76-45.56,0-68.48-35.24-68.48-65.9,0-38.39,26.93-67.91,69.34-67.91,38.68,0,68.19,26.93,68.19,67.05ZM202.65,74.09c0,27.51,18.62,43.83,42.98,43.83s42.4-18.62,42.4-44.12c0-30.37-21.49-43.83-43.84-43.83-23.49,0-41.54,16.9-41.54,44.12Z"/>
                        </g>
                        <g id="n" class="transition-all duration-[1000ms] ease-custom opacity-0 -translate-x-[20px]" style="transition-delay: 650ms;">
                            <path d="M487.9,64.55v76.29h-27.37v-75.68c0-28.6-13.53-35.36-28.29-35.36-12.61,0-24.91,7.38-33.21,19.37v91.67h-27.37V9.81h27.37v17.53c12.3-14.15,29.52-20.3,42.13-20.3,29.52,0,46.74,20.91,46.74,57.51Z"/>
                        </g>
                        <g id="i" class="transition-all duration-[1000ms] ease-custom opacity-0 -translate-x-[20px]" style="transition-delay: 800ms;">
                            <g><path d="M586.53,15.99c0,8.61-7.38,16.3-16.3,16.3s-15.99-8.3-15.99-16.3,6.77-15.99,15.99-15.99,16.3,7.38,16.3,15.99Z"/><rect x="556.7" y="55.1" width="27.37" height="85.75"/></g>
                        </g>
                        <g id="z" class="transition-all duration-[1000ms] ease-custom opacity-0 -translate-x-[20px]" style="transition-delay: 950ms;">
                            <path d="M766.82,7.04v.89l-68.95,108.47h69.53v24.44h-114.52v-.89l68.36-108.17h-66.03V7.04h111.61Z"/>
                        </g>
                        <g id="m" class="transition-all duration-[1000ms] ease-custom opacity-0 -translate-x-[20px]" style="transition-delay: 1100ms;">
                            <path d="M928.37,30.71c16.95-16.94,27.76-23.66,43.24-23.66,28.63,0,43.82,19.28,43.82,51.42v82.38h-25.71V60.5c0-20.16-9.93-31.26-27.17-31.26-9.35,0-20.74,5.84-29.51,16.36v95.24h-25.71V62.26c0-23.08-8.18-33.3-25.71-33.3-12.57,0-22.2,6.43-30.97,16.65v95.24h-25.71V9.67h25.71v17.24c13.73-14.02,24.83-19.87,39.15-19.87,15.77,0,30.38,7.01,38.56,23.66Z"/>
                        </g>
                    </g>

                    <!-- Underbar: Starts offset left (-470px) -->
                    <g id="underbar-group" class="transition-transform duration-[1500ms] ease-custom" style="transform: translateX(-470px);">
                        <path id="hero-underbar-path" d="M1200,122.15v18.7h-122.62v-18.7h122.62Z"/>
                    </g>
                </svg>
            </div>
            
        </div>
        
        <div class="absolute bottom-12 animate-bounce opacity-40">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14"/><path d="m19 12-7 7-7-7"/></svg>
        </div>
    </section>

    <!-- Philosophy Section -->
    <section id="philosophy" class="py-32 md:py-48 px-6 md:px-24 max-w-4xl mx-auto">
        <div class="flex flex-col md:flex-row gap-12 md:gap-24 items-start">
            <div class="w-full md:w-1/4 pt-2 border-t border-[#2D2D2D]">
                <h2 class="font-mono text-[10px] uppercase tracking-widest mb-2" data-content-key="concept_h2">01 / Concept</h2>
            </div>
            <div class="w-full md:w-3/4">
                <p class="font-serif text-xl md:text-2xl font-normal tracking-tight mb-6 text-[#2D2D2D]" data-content-key="concept_main">
                    Crafting the invisible.
                </p>
                <div class="font-jp text-xs leading-loose opacity-80 space-y-4 font-light tracking-wide">
                    <p id="concept_text_p1">
                        かたちあるものの奥に、 本当につくりたい「気配」が潜んでいる。画面の中のピクセルも、空間を満たす素材も。 手段にとらわれず、その場所にあるべき空気を編集する。
                    </p>
                    <p id="concept_text_p2">
                        conizm_ が目指すのは、 完結した静止画ではなく、 次へと続く「間」のあるデザイン。どんな世界観にも静かに馴染む、 オーセンティックな佇まいを築きます。
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-24 px-6 md:px-24 bg-[#EAEAEA]">
        <div class="max-w-4xl mx-auto">
            <div class="mb-16 pt-2 border-t border-[#2D2D2D]">
                <h2 class="font-mono text-[10px] uppercase tracking-widest" data-content-key="service_h2">02 / DOMAINS</h2>
            </div>
            
            <div class="grid grid-cols-1 gap-12" id="service-container">
                <!-- Service Items will be rendered by JS -->
            </div>
        </div>
    </section>

    <!-- Works Section -->
    <section id="works" class="py-32 px-6 md:px-12">
        <div class="max-w-6xl mx-auto mb-16 pt-2 border-t border-[#2D2D2D] flex justify-between items-end">
            <div>
                <h2 class="font-mono text-[10px] uppercase tracking-widest mb-2" data-content-key="work_h2">03 / Featured Work</h2>
            </div>
        </div>

        <div id="works-content">
            <!-- Image Slider -->
            <div id="image-slider-container"></div>
            
            <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                <div class="max-w-xl">
                    <h3 class="font-serif text-2xl md:text-3xl mb-4 font-normal lowercase" data-content-key="work_title">wordrobe</h3>
                    <p class="font-jp text-xs leading-loose opacity-70 tracking-wide" id="work_desc">
                        あなただけの言葉のワードローブ。
                        英語と日本語のフレーズを保存し、AIが意味を解説。
                        必要最低限の機能と装飾で、日常使いするアプリとしてノイズにならないように設計。
                        React / TypeScript / Firebase で構築（AI Assisted）
                    </p>
                </div>
                <div class="flex flex-col items-end gap-2 font-mono text-[10px] opacity-60 text-right uppercase tracking-widest w-full md:w-auto">
                    <span data-content-key="work_category">Web Application</span>
                    <span data-content-key="work_year">2025</span>
                    <a 
                      href="https://wordrobe.cc/wordrobe.html" 
                      target="_blank" 
                      rel="noopener noreferrer"
                      class="flex items-center gap-1 hover:opacity-50 transition-opacity cursor-pointer"
                    >
                        <span data-content-key="work_link">OPEN APP</span> <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Mood Section -->
    <section class="py-24 px-6 md:px-12 bg-[#2D2D2D] text-[#F7F7F7]">
        <div class="max-w-5xl mx-auto flex flex-col md:flex-row gap-16 items-center">
            <div class="w-full md:w-1/2">
                <img 
                  src="https://conizm.github.io/images/moodphoto.png" 
                  alt="Mood" 
                  class="w-full aspect-square object-cover" 
                />
            </div>
            <div class="w-full md:w-1/2 text-right flex flex-col justify-center self-stretch">
                <p class="font-jp text-xs leading-loose opacity-70 tracking-wide" id="mood_en_text_revive"></p>
                <p class="font-jp font-light text-xs leading-loose opacity-70 tracking-wide" id="mood_text">
                    作為的な装飾よりも、静謐な『間』を。<br/>
                    声高な主張よりも、永く愛される『気配』を。
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="py-32 px-6 md:px-24 bg-[#F7F7F7] relative">
        <div class="max-w-3xl mx-auto text-center">
            
            <div class="flex justify-center gap-8 mb-12">
                
                <!-- Contact Icon (Mail - First Position) -->
                <button 
                  id="contact-button"
                  class="inline-block hover:opacity-50 transition-opacity"
                  aria-label="Contact Form"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                </button>

                <!-- Profile Icon (Person - Second Position) -->
                <button
                    id="profile-button"
                    class="inline-block hover:opacity-50 transition-opacity"
                    aria-label="Profile/Info"
                    onclick="openProfileModal(event)"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                </button>
                
                <!-- Instagram Icon (Last Position) -->
                <a 
                    href="https://www.instagram.com/conizm_/"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-block hover:opacity-50 transition-opacity"
                    aria-label="Instagram Link"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.5" y1="6.5" y2="6.5"/></svg>
                </a>
                

            </div>
            
            <div class="flex flex-col md:flex-row justify-between items-center pt-8 border-t border-[#2D2D2D]/20 text-[10px] font-mono opacity-40 tracking-widest">
                <span data-content-key="footer_copyright">© 2025 conizm_</span>
                <span data-content-key="footer_crafting">Crafting the invisible.</span>
            </div>
        </div>
    </footer>

    <!-- Contact Form Modal -->
    <div id="contact-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300" onclick="closeContactModal(event)">
        <div class="bg-[#F7F7F7] p-8 md:p-12 rounded-xl shadow-2xl w-11/12 max-w-lg relative" onclick="event.stopPropagation()">
            <button class="absolute top-4 right-4 text-[#2D2D2D] hover:opacity-50 transition-opacity" onclick="closeContactModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
            <h3 class="font-serif text-2xl mb-6 text-center text-[#2D2D2D] lowercase" id="modal-title">contact form</h3>
            
            <form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfA-UEOhUdyIVa3pNuWj0sXsExP3xXt8dkQCBiRqtLlm1EJVA/formResponse" method="POST" target="hidden_iframe">
                
                <div class="mb-4">
                    <label for="entry.956780696" class="block text-xs font-mono tracking-widest uppercase mb-1 opacity-70" id="modal-name-label">NAME</label>
                    <input type="text" id="entry.956780696" name="entry.956780696" required class="w-full p-2 border border-[#2D2D2D]/30 bg-transparent font-serif text-sm focus:border-[#2D2D2D] transition-colors rounded-lg">
                </div>

                <div class="mb-4">
                    <label for="entry.422165517" class="block text-xs font-mono tracking-widest uppercase mb-1 opacity-70" id="modal-email-label">EMAIL</label>
                    <input type="email" id="entry.422165517" name="entry.422165517" required class="w-full p-2 border border-[#2D2D2D]/30 bg-transparent font-serif text-sm focus:border-[#2D2D2D] transition-colors rounded-lg">
                </div>

                <div class="mb-6">
                    <label for="entry.1033281640" class="block text-xs font-mono tracking-widest uppercase mb-1 opacity-70" id="modal-message-label">MESSAGE</label>
                    <textarea id="entry.1033281640" name="entry.1033281640" rows="5" required class="w-full p-2 border border-[#2D2D2D]/30 bg-transparent font-serif text-sm focus:border-[#2D2D2D] transition-colors rounded-lg"></textarea>
                </div>

                <button type="submit" class="w-full bg-[#2D2D2D] text-[#F7F7F7] font-mono text-sm uppercase tracking-widest py-3 rounded-xl hover:opacity-90 transition-opacity" id="modal-button">
                    SUBMIT
                </button>
            </form>
            <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="if(window.submitted) {alert(content[currentLang].modal_alert); closeContactModal();}"></iframe>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profile-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300" onclick="closeProfileModal(event)">
        <div class="bg-[#F7F7F7] p-8 md:p-12 rounded-xl shadow-2xl w-11/12 max-w-lg relative text-center" onclick="event.stopPropagation()">
            <button class="absolute top-4 right-4 text-[#2D2D2D] hover:opacity-50 transition-opacity" onclick="closeProfileModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
            
            <div class="flex flex-col items-center pt-6">
                <img src="https://conizm.cc/images/icon-conizm.png" alt="Profile Photo" class="w-24 h-24 rounded-full mb-4 object-cover border border-[#2D2D2D]/20">
                <p class="font-serif text-xl font-normal mb-1" id="profile-name">Cony</p>
                <p class="font-jp text-sm opacity-70 mb-4" id="profile-title">Graphic & Experience Designer</p>
                
                <div class="mt-4 text-left w-full max-w-xs mx-auto">
                    <p class="font-mono text-[10px] uppercase tracking-widest mb-1 opacity-70" id="profile-bg-label">Background</p>
                    <p class="font-jp text-xs leading-loose opacity-80" id="profile-description">
                        大学卒業後、空間デザイン事務所に勤務。その後、インハウスのクリエイティブディレクターとしての経験を経て、フリーランス。在カナダ。Digital-Physical（Web, Print, and Space）を横断し、「人が心地よいと感じる」体験を設計・具現化することを目指しています。
                    </p>
                </div>
            </div>
        </div>
    </div>


    <script>
        window.submitted = false;
        let currentLang = 'ja';

        const content = {
            'ja': {
                nav_concept: '01 / CONCEPT', nav_services: '02 / DOMAINS', nav_work: '03 / WORK', nav_contact: '04 / CONTACT',
                lang_jp: 'JP', lang_en: 'EN',
                concept_h2: '01 / Concept', concept_main: 'Crafting the invisible.',
                concept_text_p1: 'かたちあるものの奥に、 本当につくりたい「気配」が潜んでいる。画面の中のピクセルも、空間を満たす素材も。 手段にとらわれず、その場所にあるべき空気を編集する。',
                concept_text_p2: 'conizm_ がつくるのは、 完結した静止画ではなく、 次へと続く「間」のあるデザイン。流行を追うのではなく、 どんな世界観にも静かに馴染む、 オーセンティックな佇まいを築きます。',
                service_h2: '02 / DOMAINS',
                service1_title: 'Interactive & Experience', service1_subtitle: 'UI/UX設計',
                service1_desc_h: 'AI技術を活用して、心地よいUI体験の設計を',
                service1_desc_p: '空間デザインの経験で培った「人が快適に感じる距離感や配置」の感覚を、デジタル空間（UI/UX）に応用。AI技術をコーディングに活用することで、アイディアを迅速に実装します。機能性だけでなく、触っていて気持ちの良い、体温のあるプロダクトを目指します。',
                service1_list: 'UI/UXデザイン、デジタルプロトタイプ作成、WEBブラウザアプリ、ゲーム開発（AI実装） etc.',
                service2_title: 'Visual & Identity', service2_subtitle: 'ブランディングツール / サイン計画',
                service2_desc_h: '想いの行間を読み、ブランドの世界観を翻訳',
                service2_desc_p: '流行に左右されない、ブランドの空気感や思想が伝わる「佇まい」をデザインします。名刺やパンフレットなどの手元ツールから、店舗や施設のサイン計画（案内表示）まで、空間におけるグラフィックの在り方も含めて制作します。',
                service2_list: 'ブランディングツール（ロゴ、名刺、パンフレット等）、サイン計画、ブランドコンセプト etc.',
                work_h2: '03 / Featured Work', work_title: 'wordrobe',
                work_desc: 'あなただけの言葉のワードローブ。英語と日本語のフレーズを保存し、AIが意味を解説。単語帳として必要最低限の機能と装飾で、日常使いするアプリとしてノイズにならないように設計。React / TypeScript / Firebase で構築（AI Assisted）',
                work_category: 'Web Application', work_year: '2025', work_link: 'OPEN APP',
                mood_en_text: '', // 日本語モードでは空
                mood_text: '作為的な装飾よりも、静謐な『間』を。<br/>声高な主張よりも、永く愛される『気配』を。',
                footer_contact: 'CONTACT', footer_copyright: '© 2025 conizm_', footer_crafting: 'Crafting the invisible.',
                profile_name: 'Cony', profile_title: 'Graphic & Experience Designer', profile_bg_label: 'Background',
                profile_desc: '大学卒業後、空間デザイン事務所に勤務。その後、インハウスのグラフィックデザイナーとしての経験を経て、2023年よりフリーランス。Digital-Physical（Web, Print, and Space）を横断し、「人が心地よいと感じる」体験を設計・具現化することを目指しています。',
            },
            'en': {
                nav_concept: '01 / CONCEPT', nav_services: '02 / DOMAINS', nav_work: '03 / WORK', nav_contact: '04 / CONTACT',
                lang_jp: 'JP', lang_en: 'EN',
                concept_h2: '01 / Concept', concept_main: 'Crafting the invisible.',
                concept_text_p1: 'Deep within visible forms lies the true presence we aim to create. From pixels on a screen to materials in a room. Unbound by medium, we shape the very atmosphere of the space.',
                concept_text_p2: 'conizm_ creates not static conclusions, but designs imbued with "Ma"— the intentional pause that invites what comes next. Beyond fleeting trends, we build an authentic presence that quietly harmonizes with any world.',
                service_h2: '02 / DOMAINS',
                service1_title: 'Interactive & Experience', service1_subtitle: 'WEB Application Development / UI/UX Design',
                service1_desc_h: 'Leveraging AI technology to design comfortable UI experiences',
                service1_desc_p: 'Applying the sense of "distance and placement where people feel comfortable" cultivated in interior design to digital spaces (UI/UX). Utilizing AI technology in coding, we rapidly implement ideas as applications. We aim for digital products that are not only functional but also tactile and warm to use.',
                service1_list: 'UI/UX design, digital prototype creation, WEB browser app, game development (AI implementation) etc.',
                service2_title: 'Visual & Identity', service2_subtitle: 'Branding Tools / Sign Planning',
                service2_desc_h: 'Translating brand identity from print media to signage planning',
                service2_desc_p: 'We design a "presence" that quietly communicates the brand\'s philosophy, rather than chasing fleeting trends. We offer total proposals, covering everything from handheld tools like business cards and brochures to spatial graphic design, including signage planning for stores and facilities.',
                service2_list: 'Branding tools (logo, business cards, flyers, brochures, etc.), signage planning, brand concept etc.',
                work_h2: '03 / Featured Work', work_title: 'wordrobe',
                work_desc: 'Your personal wordrobe of words. Save English and Japanese phrases, explained by AI. Designed to be minimal in function and decoration, ensuring the app is not a a noise source for daily use. Built with React / TypeScript / Firebase (AI Assisted).',
                work_category: 'Web Application', work_year: '2025', work_link: 'OPEN APP',
                mood_en_text: 'Not just designing the visible, but curating the atmosphere itself.<br/> In the quiet details, we find a timeless resonance.',
                mood_text: 'We prioritize serene "Ma" (pause) over deliberate ornamentation, and "Kezhai" (presence) that is loved for a long time over loud assertions.',
                footer_contact: 'CONTACT', footer_copyright: '© 2025 conizm_', footer_crafting: 'Crafting the invisible.',
                profile_name: 'Cony', profile_title: 'Graphic & Experience Designer', profile_bg_label: 'Background',
                profile_desc: 'After graduating from university, Cony worked at a spatial design firm. Following experience as an in-house graphic designer, Cony has been working freelance since 2023. The goal is to design and realize experiences that "make people feel comfortable" by crossing Digital-Physical (Web, Print, and Space) boundaries.',
            }
        };

        const updateContent = (lang) => {
            const data = content[lang];

            // 1. Navigation & Headers
            document.querySelectorAll('[data-content-key]').forEach(el => {
                const key = el.getAttribute('data-content-key');
                if (data[key]) {
                    el.textContent = data[key];
                }
            });
            
            // 2. Main Sections (by ID)
            document.getElementById('concept_text_p1').innerHTML = data.concept_text_p1;
            document.getElementById('concept_text_p2').innerHTML = data.concept_text_p2;
            document.getElementById('work_desc').textContent = data.work_desc;
            document.getElementById('mood_text').innerHTML = data.mood_text;
            
            // 2.5 Mood Section English text handling
            const moodEnTextEl = document.getElementById('mood_en_text_revive');
            const moodJpTextEl = document.getElementById('mood_text');
            
            if (moodEnTextEl && moodJpTextEl) {
                // Style adjustment for mood EN text
                // Changed md:text-base to md:text-xs to match WORK description text size
                moodEnTextEl.className = 'font-jp text-xs leading-loose opacity-70 tracking-wide mb-8 font-normal md:text-xs';
                
                if (lang === 'en') {
                    // English mode: Display only the poetic English text
                    moodEnTextEl.innerHTML = data.mood_en_text;
                    moodEnTextEl.style.display = 'block';
                    moodJpTextEl.style.display = 'none'; 
                } else {
                    // Japanese mode: Display only the Japanese text
                    moodEnTextEl.style.display = 'none';
                    moodJpTextEl.style.display = 'block';
                }
            }


            // 3. Profile Modal Content Update
            document.getElementById('profile-name').textContent = data.profile_name;
            document.getElementById('profile-title').textContent = data.profile_title;
            document.getElementById('profile-bg-label').textContent = data.profile_bg_label;
            document.getElementById('profile-description').textContent = data.profile_desc;
            
            // 4. Update dynamically generated content (Service Accordion)
            renderServiceItems(lang);
            
            // 5. Update Language Switcher state
            const jpBtns = document.querySelectorAll('#lang-ja-desktop, #lang-ja-mobile');
            const enBtns = document.querySelectorAll('#lang-en-desktop, #lang-en-mobile');

            jpBtns.forEach(btn => {
                if (lang === 'ja') {
                    btn.classList.add('font-bold', 'border-b', 'border-[#2D2D2D]');
                } else {
                    btn.classList.remove('font-bold', 'border-b', 'border-[#2D2D2D]');
                }
            });
            enBtns.forEach(btn => {
                if (lang === 'en') {
                    btn.classList.add('font-bold', 'border-b', 'border-[#2D2D2D]');
                } else {
                    btn.classList.remove('font-bold', 'border-b', 'border-[#2D2D2D]');
                }
            });
        };

        window.setLanguage = (lang) => {
            currentLang = lang;
            updateContent(lang);
        };

        // --- Profile Modal Handlers ---
        window.openContactModal = () => {
            const contactModal = document.getElementById('contact-modal');
            contactModal.classList.remove('opacity-0', 'pointer-events-none');
            contactModal.classList.add('opacity-100', 'pointer-events-auto');
            document.body.style.overflow = 'hidden';
        };

        window.closeContactModal = (event) => {
            const contactModal = document.getElementById('contact-modal');
            if (event && event.target.id !== 'contact-modal') { return; }
            contactModal.classList.remove('opacity-100', 'pointer-events-auto');
            contactModal.classList.add('opacity-0', 'pointer-events-none');
            document.body.style.overflow = 'auto';
        };
        
        window.openProfileModal = () => {
            const profileModal = document.getElementById('profile-modal');
            profileModal.classList.remove('opacity-0', 'pointer-events-none');
            profileModal.classList.add('opacity-100', 'pointer-events-auto');
            document.body.style.overflow = 'hidden';
            updateContent(currentLang); // Ensure profile content is updated when opened
        };

        window.closeProfileModal = (event) => {
            const profileModal = document.getElementById('profile-modal');
            if (event && event.target.id !== 'profile-modal') { return; }
            profileModal.classList.remove('opacity-100', 'pointer-events-auto');
            profileModal.classList.add('opacity-0', 'pointer-events-none');
            document.body.style.overflow = 'auto';
        };


        // --- Image Slider (Dynamic Logic) ---
        
        const workImages = [
            'https://conizm.cc/images/wordrobeimage_1.png',
            'https://conizm.cc/images/wordrobeimage_2.png',
            'https://conizm.cc/images/wordrobeimage_3.png'
        ];

        let currentSlideIndex = 0;
        let autoPlayTimer;
        const minSwipeDistance = 50;

        function renderSlider() {
            const sliderContainer = document.getElementById('image-slider-container');
            if (!sliderContainer) return;

            // Clear container first to prevent duplication issues in renderSlider() calls
            sliderContainer.innerHTML = '';
            
            let sliderHtml = `
                <div 
                    class="w-full aspect-video bg-[#cfcfcf] mb-8 relative overflow-hidden group select-none"
                    id="image-slider"
                >
                    <div class="relative w-full h-full" id="slide-images">
                        ${workImages.map((src, index) => `
                            <div 
                                class="absolute inset-0 w-full h-full fade-transition grayscale"
                                style="
                                    opacity: ${index === currentSlideIndex ? 1 : 0};
                                    z-index: ${index === currentSlideIndex ? 10 : 0};
                                    /* Ensures crossfade works reliably */
                                    transition: opacity 2500ms ease-in-out;
                                "
                                id="slide-${index}"
                            >
                                <img src="${src}" alt="Work slide ${index + 1}" class="w-full h-full object-cover"/>
                            </div>
                        `).join('')}
                    </div>

                    <!-- PC Navigation Arrow -->
                    <button id="next-slide-btn" class="hidden md:flex absolute top-1/2 right-4 -translate-y-1/2 z-20 text-[#2D2D2D]/60 hover:text-[#2D2D2D] transition-colors p-2" aria-label="Next slide">
                       <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                    </button>

                    <!-- Pagination Dots (Removed) -->
                </div>
            `;
            sliderContainer.innerHTML = sliderHtml;
            
            // Setup events after insertion
            setupSliderEvents();
            startAutoPlay();
        }

        function goToSlide(index) {
            currentSlideIndex = index;
            // Manual update of opacity and z-index for crossfade
            document.querySelectorAll('#slide-images > div').forEach((slide, i) => {
                if (i === index) {
                    slide.style.opacity = 1;
                    slide.style.zIndex = 10;
                } else {
                    slide.style.opacity = 0;
                    // Lower z-index immediately after fade-out starts for layer stability
                    setTimeout(() => { slide.style.zIndex = 0; }, 2500); 
                }
            });
            // Reset the timer since a manual action occurred
            startAutoPlay();
        }

        function startAutoPlay() {
            if (autoPlayTimer) clearInterval(autoPlayTimer);
            autoPlayTimer = setInterval(() => {
                currentSlideIndex = (currentSlideIndex + 1) % workImages.length;
                goToSlide(currentSlideIndex); // Use goToSlide for animation logic
            }, 6000);
        }

        function setupSliderEvents() {
            // Re-attach listeners after rendering, focusing on the dynamic elements.
            const nextBtn = document.getElementById('next-slide-btn');
            if(nextBtn) {
                nextBtn.addEventListener('click', () => {
                    currentSlideIndex = (currentSlideIndex + 1) % workImages.length;
                    goToSlide(currentSlideIndex);
                });
            }
            
            const slider = document.getElementById('image-slider');
            let touchStartX = null;
            let touchEndX = null;

            if (slider) {
                slider.addEventListener('touchstart', (e) => {
                    touchEndX = null;
                    touchStartX = e.targetTouches[0].clientX;
                });

                slider.addEventListener('touchmove', (e) => {
                    touchEndX = e.targetTouches[0].clientX;
                });

                slider.addEventListener('touchend', () => {
                    if (!touchStartX || !touchEndX) return;
                    const distance = touchStartX - touchEndX;
                    
                    if (distance > minSwipeDistance) {
                        currentSlideIndex = (currentSlideIndex + 1) % workImages.length;
                        goToSlide(currentSlideIndex);
                    } else if (distance < -minSwipeDistance) {
                        currentSlideIndex = (currentSlideIndex - 1 + workImages.length) % workImages.length;
                        goToSlide(currentSlideIndex);
                    }
                    startAutoPlay();
                    touchStartX = null;
                    touchEndX = null;
                });
            }
        }
        
        // --- Service Accordion (Dynamic HTML Generation) ---
        
        const renderServiceItems = (lang) => {
            const data = content[lang];
            const serviceContainer = document.getElementById('service-container');
            if (!serviceContainer) return;
            serviceContainer.innerHTML = ''; // Clear previous content

            // Order changed: Visual & Identity (2) first, then Interactive & Experience (1)
            const serviceData = [
                { 
                    titleKey: "service2_title", subtitleKey: "service2_subtitle", descHKey: "service2_desc_h", descPKey: "service2_desc_p", listKey: "service2_list"
                },
                { 
                    titleKey: "service1_title", subtitleKey: "service1_subtitle", descHKey: "service1_desc_h", descPKey: "service1_desc_p", listKey: "service1_list"
                }
            ];

            serviceData.forEach((keys, index) => {
                const isFirstLineBold = data[keys.descHKey];
                const restOfDescription = data[keys.descPKey];
                
                const itemHtml = `
                    <div class="border-b border-[#2D2D2D]/20 pb-8 cursor-pointer group" id="service-item-${index}">
                        <div class="flex justify-between items-center transition-opacity hover:opacity-60">
                            <!-- Left: Title and Subtitle (Full width on mobile, 50% on PC) -->
                            <div class="flex-1 flex flex-col md:flex-row md:items-end md:justify-start">
                                <h3 class="font-serif text-xl md:text-2xl font-normal tracking-tight mb-2 md:mb-0">
                                    ${data[keys.titleKey]}
                                </h3>
                                <!-- Added margin for PC spacing -->
                                <p class="font-jp text-[10px] md:text-xs opacity-60 tracking-widest font-light uppercase md:ml-4 md:mb-1 md:mr-4">
                                    ${data[keys.subtitleKey]}
                                </p>
                            </div>
                            
                            <!-- Right: Expand Icon -->
                            <div class="opacity-40 transform transition-transform duration-300 flex-shrink-0">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                            </div>
                        </div>

                        <div class="overflow-hidden transition-all duration-700 ease-in-out max-h-0 opacity-0 mt-0" id="service-details-${index}">
                            <!-- Description (PC text alignment adjusted to left-aligned, full width) -->
                            <div class="font-jp text-xs leading-loose opacity-80 font-light tracking-wide space-y-6 pt-8 md:w-full md:text-left">
                                <div>
                                    <span class="block font-bold mb-4">${isFirstLineBold}</span>
                                    <span class="block">${restOfDescription.trim()}</span>
                                </div>
                                <p class="opacity-60 border-t border-[#2D2D2D]/10 pt-4">${data[keys.listKey]}</p>
                            </div>
                        </div>
                    </div>
                `;
                serviceContainer.innerHTML += itemHtml;
            });
            
            // Re-attach Click Handlers for Accordion
            serviceData.forEach((_, index) => {
                const item = document.getElementById(`service-item-${index}`);
                const details = document.getElementById(`service-details-${index}`);
                const iconContainer = item ? item.querySelector('.flex-shrink-0') : null;

                if (item && details && iconContainer) item.addEventListener('click', () => {
                    const isOpening = details.classList.contains('max-h-0');
                    if (isOpening) {
                        details.style.maxHeight = details.scrollHeight + 100 + "px"; // Added buffer for smooth opening
                        details.classList.remove('max-h-0', 'opacity-0', 'mt-0');
                        details.classList.add('opacity-100', 'mt-8');
                        iconContainer.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>';
                    } else {
                        details.style.maxHeight = '0px';
                        details.classList.add('max-h-0', 'opacity-0', 'mt-0');
                        details.classList.remove('opacity-100', 'mt-8');
                        iconContainer.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>';
                    }
                });
            });
        };


        document.addEventListener('DOMContentLoaded', () => {
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            const menuButton = document.getElementById('mobile-menu-button');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            const heroContent = document.getElementById('hero-content');
            
            // Contact Modal Elements
            const contactModal = document.getElementById('contact-modal');
            const contactButton = document.getElementById('contact-button');
            const profileButton = document.getElementById('profile-button');
            const profileModal = document.getElementById('profile-modal');
            const contactForm = contactModal.querySelector('form');

            // --- Contact Modal Handlers ---
            
            window.openContactModal = () => {
                contactModal.classList.remove('opacity-0', 'pointer-events-none');
                contactModal.classList.add('opacity-100', 'pointer-events-auto');
                document.body.style.overflow = 'hidden';
            };

            window.closeContactModal = (event) => {
                if (event && event.target.id !== 'contact-modal') { return; }
                contactModal.classList.remove('opacity-100', 'pointer-events-auto');
                contactModal.classList.add('opacity-0', 'pointer-events-none');
                document.body.style.overflow = 'auto';
            };
            
            window.openProfileModal = () => {
                profileModal.classList.remove('opacity-0', 'pointer-events-none');
                profileModal.classList.add('opacity-100', 'pointer-events-auto');
                document.body.style.overflow = 'hidden';
                updateContent(currentLang); // Ensure profile content is updated when opened
            };

            window.closeProfileModal = (event) => {
                if (event && event.target.id !== 'profile-modal') { return; }
                profileModal.classList.remove('opacity-100', 'pointer-events-auto');
                profileModal.classList.add('opacity-0', 'pointer-events-none');
                document.body.style.overflow = 'auto';
            };


            if(contactButton) {
                contactButton.addEventListener('click', openContactModal);
            }
            if(profileButton) {
                profileButton.addEventListener('click', openProfileModal);
            }
            
            contactForm.addEventListener('submit', function() {
                window.submitted = true;
            });

            // --- 1. Initial Load & Hero Animation ---
            
            const cGroup = document.getElementById('c-group');
            const underbarGroup = document.getElementById('underbar-group');
            const onizmLetters = [
                { id: 'o', group: document.getElementById('o'), delay: 500 },
                { id: 'n', group: document.getElementById('n'), delay: 650 },
                { id: 'i', group: document.getElementById('i'), delay: 800 },
                { id: 'z', group: document.getElementById('z'), delay: 950 },
                { id: 'm', group: document.getElementById('m'), delay: 1100 },
            ];

            setTimeout(() => {
                heroContent.classList.remove('opacity-0', 'translate-y-10');
                heroContent.classList.add('opacity-100', 'translate-y-0');
            }, 100);

            setTimeout(() => {
                if (cGroup && underbarGroup) {
                    cGroup.style.transform = 'translateX(0)';
                    underbarGroup.style.transform = 'translateX(0)';
                }
                
                onizmLetters.forEach(item => {
                    setTimeout(() => {
                        if (item.group) {
                            item.group.classList.remove('opacity-0', '-translate-x-[20px]');
                            item.group.classList.add('opacity-100', 'translate-x-0');
                        }
                    }, item.delay);
                });
            }, 2200);

            // --- 2. Mobile Menu Logic ---

            if (menuButton) {
                menuButton.addEventListener('click', () => {
                    const isOpen = mobileMenuOverlay.classList.contains('translate-x-0');
                    
                    if (isOpen) {
                        mobileMenuOverlay.classList.remove('translate-x-0', 'opacity-100', 'pointer-events-auto');
                        mobileMenuOverlay.classList.add('translate-x-full', 'opacity-0', 'pointer-events-none');
                        menuIcon.classList.remove('hidden');
                        closeIcon.classList.add('hidden');
                    } else {
                        mobileMenuOverlay.classList.remove('translate-x-full', 'opacity-0', 'pointer-events-none');
                        mobileMenuOverlay.classList.add('translate-x-0', 'opacity-100', 'pointer-events-auto');
                        menuIcon.classList.add('hidden');
                        closeIcon.classList.remove('hidden');
                    }
                });
            }


            window.handleMenuClick = (event, href) => {
                event.preventDefault();
                const targetId = href.replace('#', '');
                const targetElement = document.getElementById(targetId);

                // Close menu first
                mobileMenuOverlay.classList.remove('translate-x-0', 'opacity-100', 'pointer-events-auto');
                mobileMenuOverlay.classList.add('translate-x-full', 'opacity-0', 'pointer-events-none');
                menuIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');

                // Scroll
                setTimeout(() => {
                    if (targetElement && targetId !== '') {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                }, 100);
            };

            // --- 4. Image Slider Logic ---
            
            const sliderContainer = document.getElementById('image-slider-container');
            if (sliderContainer) renderSlider();
            
            // --- Final Initialization ---
            setLanguage(currentLang);
        });
    </script>
</body>
</html>
